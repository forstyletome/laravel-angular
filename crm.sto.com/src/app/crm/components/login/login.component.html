<section class="auth bg-base d-flex flex-wrap">

  <div class="auth-left d-lg-block d-none">

    <div class="d-flex align-items-center flex-column h-100 justify-content-center">

      <img src="/images/auth/auth-img.png" alt="">

    </div>

  </div>

  <div class="auth-right py-32 px-24 d-flex flex-column justify-content-center">

    <div class="max-w-464-px mx-auto w-100">

      <app-language-switcher></app-language-switcher>

      <div *ngIf="!showHideForgotPasswordForm">

        <a href="index.html" class="mb-40 max-w-290-px">
          <img src="/images/logo.png" alt="">
        </a>

        <h4 class="mb-12">{{ 'MESS_1' | translate }}</h4>

        <p class="mb-32 text-secondary-light text-lg" *ngIf="!requires2FA">{{ 'MESS_3' | translate }}</p>

        <p class="mb-32 text-secondary-light text-lg" *ngIf="requires2FA">{{ 'MESS_4' | translate }}</p>

      </div>

      <div *ngIf="showHideForgotPasswordForm">

        <a href="index.html" class="mb-40 max-w-290-px">
          <img src="/images/logo.png" alt="">
        </a>

        <h4 class="mb-12">{{ 'MESS_19' | translate }}</h4>

      </div>

      <form action="#" *ngIf="showHideForgotPasswordForm">

        <div class="icon-field mb-16">

          <span class="icon top-50 translate-middle-y">

            <iconify-icon icon="mage:email"></iconify-icon>

          </span>

          <input [(ngModel)]="email" type="email" placeholder="{{ 'MESS_7' | translate }}" class="form-control h-56-px bg-neutral-50 radius-12" [ngClass]="{'is-invalid': hasError('email')}" name="email">

        </div>

        <div class="d-flex flex-column gap-2 mt-20" *ngIf="getErrors().length > 0">

          <div class="alert alert-danger bg-danger-100 text-danger-600 border-danger-100 px-24 py-11 mb-0 fw-semibold text-lg radius-8" role="alert" *ngFor="let key of getErrors()">
            <span class="fw-medium text-danger-600 text-sm mt-8">{{ errors.messages[key] }}</span>
          </div>

        </div>

        <button type="submit" class="btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32" (click)="forgotPassword()">{{ 'MESS_19' | translate }}</button>

        <div class="text-center">
          <a class="text-primary-600 fw-bold mt-24" (click)="backToLoginForm()">{{ 'MESS_25' | translate }}</a>
        </div>

      </form>

      <form action="#" *ngIf="!requires2FA && !showHideForgotPasswordForm">

        <div class="icon-field mb-16">

          <span class="icon top-50 translate-middle-y">

            <iconify-icon icon="mage:email"></iconify-icon>

          </span>

          <input [(ngModel)]="email" type="email" placeholder="{{ 'MESS_7' | translate }}" class="form-control h-56-px bg-neutral-50 radius-12" [ngClass]="{'is-invalid': hasError('email')}" name="email">

        </div>

        <div class="position-relative mb-20">

          <div class="icon-field">

            <span class="icon top-50 translate-middle-y">

              <iconify-icon icon="solar:lock-password-outline"></iconify-icon>

            </span>

            <input [(ngModel)]="password" [attr.type]="showHidePassword ? 'text' : 'password'" placeholder="{{ 'MESS_8' | translate }}" class="form-control h-56-px bg-neutral-50 radius-12" id="your-password" [ngClass]="{'is-invalid': hasError('password')}" name="password">

          </div>

          <span class="toggle-password ri-eye-line cursor-pointer position-absolute end-0 top-50 translate-middle-y me-16 text-secondary-light" [ngClass]="{'ri-eye-off-line': showHidePassword}" (click)="togglePassword()"></span>

        </div>

        <div class="d-flex justify-content-between gap-2">

          <a class="text-primary-600 fw-medium" (click)="forgotPasswordForm()">{{ 'MESS_9' | translate }}</a>

        </div>

        <div class="d-flex flex-column gap-2 mt-20" *ngIf="getErrors().length > 0">

          <div class="alert alert-danger bg-danger-100 text-danger-600 border-danger-100 px-24 py-11 mb-0 fw-semibold text-lg radius-8" role="alert" *ngFor="let key of getErrors()">
            <span class="fw-medium text-danger-600 text-sm mt-8">{{ errors.messages[key] }}</span>
          </div>

        </div>

        <button type="submit" class="btn btn-warning text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32" (click)="showResendEmailLink()" *ngIf="showHideResendLink">{{ 'MESS_44' | translate }}</button>

        <button type="submit" class="btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32" (click)="login()">{{ 'MESS_10' | translate }}</button>

        <!--

        <div class="mt-32 center-border-horizontal text-center">
          <span class="bg-base z-1 px-4">{{ 'MESS_11' | translate }}</span>
        </div>

        <div class="mt-32 d-flex align-items-center gap-3">
          <button type="button" class="fw-semibold text-primary-light py-16 px-24 w-50 border radius-12 text-md d-flex align-items-center justify-content-center gap-12 line-height-1 bg-hover-primary-50">
            <iconify-icon icon="ic:baseline-facebook" class="text-primary-600 text-xl line-height-1"></iconify-icon>
            {{ 'MESS_12' | translate }}
          </button>
          <button type="button" class="fw-semibold text-primary-light py-16 px-24 w-50 border radius-12 text-md d-flex align-items-center justify-content-center gap-12 line-height-1 bg-hover-primary-50">
            <iconify-icon icon="logos:google-icon" class="text-primary-600 text-xl line-height-1"></iconify-icon>
            {{ 'MESS_13' | translate }}
          </button>
        </div>

        -->

        <div class="mt-32 text-center text-sm">
          <p class="mb-0">{{ 'MESS_14' | translate }}<a [routerLink]="'/register'" class="text-primary-600 fw-semibold">{{ 'MESS_15' | translate }}</a></p>
        </div>

      </form>

      <form *ngIf="requires2FA && !showHideForgotPasswordForm">

        <div class="mb-16">

          <input [(ngModel)]="code" type="text" placeholder="{{ 'MESS_16' | translate }}" class="form-control h-56-px bg-neutral-50 radius-12" name="code">

        </div>

        <div class="d-flex flex-column gap-2 mt-20 mb-20" *ngIf="getErrors().length > 0">

          <div class="alert alert-danger bg-danger-100 text-danger-600 border-danger-100 px-24 py-11 mb-0 fw-semibold text-lg radius-8" role="alert" *ngFor="let key of getErrors()">
            <span class="fw-medium text-danger-600 text-sm mt-8">{{ errors.messages[key] }}</span>
          </div>

        </div>

          <button (click)="verify2FA()" class="btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12">{{ 'MESS_17' | translate }}</button>

          <button *ngIf="countdown === 0" (click)="resendCode()" class="btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32">{{ 'MESS_18' | translate }}</button>

        <p *ngIf="codeResented" class="mb-32 text-secondary-light text-lg text-center mt-20">{{codeResentedText}}</p>

        <p *ngIf="countdown > 0" class="mb-32 text-secondary-light text-lg text-center mt-20">{{ 'MESS_27' | translate }}{{ countdown }}{{ 'MESS_28' | translate }}</p>

        <div class="mt-120 text-center text-sm">
          <p class="mb-0">{{ 'MESS_26' | translate }} <a (click)="backToLoginForm()" class="text-primary-600 fw-semibold">{{ 'MESS_10' | translate }}</a></p>
        </div>

      </form>

    </div>

  </div>

</section>
